(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(13),r=c.n(n),s=c(7),a=(c(19),c(3)),i=c(4),j=(c(20),c(1)),o=c(8),u=c.n(o),l=c(9),b=c(6),d=c.n(b);function h(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Server error");case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){var e=Object(l.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("".concat("https://api.tvmaze.com/schedule","?country=").concat("US","&date=").concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(c(22),c.p+"static/media/con-video-camera.4dbb78ca.png"),p=c(2),f=function(e){var t=e.movie;return Object(p.jsxs)("div",{className:"movie-card",children:[Object(p.jsx)("img",{src:null===t.show.image?x:t.show.image.medium,alt:"MovieImage"}),Object(p.jsxs)("div",{className:"movie-card__content",children:[Object(p.jsx)("p",{children:t.name}),Object(p.jsx)("p",{children:t.airdate.slice(0,4)}),Object(p.jsxs)("div",{className:"movie-card__description",children:[Object(p.jsxs)("p",{children:["Season:",t.season]}),Object(p.jsxs)("p",{children:["Episode:",t.number]})]})]})]})},v=(c(24),function(){return Object(p.jsx)("div",{className:"Loader",children:Object(p.jsx)("div",{className:"Loader__content"})})}),g=(c(25),c(26),c(14)),_=c.p+"static/media/arrow_icon.14f1d3c7.svg",M=c.p+"static/media/TV-set.3bca90b2.png",N=function(){return Object(p.jsx)("img",{src:_,alt:"Icon"})},S=function(e){var t=e.getMonth()+1,c=e.getDate();return[e.getFullYear(),t<10?"0".concat(t):"".concat(t),c<10?"0".concat(c):"".concat(c)].join("-")},w=function(){var e=Object(j.useState)(new Date),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.f)();return Object(p.jsxs)("div",{className:"home-page",children:[Object(p.jsxs)("div",{className:"home-page__content",children:[Object(p.jsx)("img",{src:M,alt:"TVset",className:"home-page__img"}),Object(p.jsxs)("p",{className:"home-page__description",children:["For the list of serials, please, choose the necessary",Object(p.jsx)("br",{}),"month and day."]})]}),Object(p.jsx)(g.a,{formatMonthYear:function(e,t){return u()(t).format("MMMM")},onChange:n,value:c,onClickDay:function(e){return r("/movies-list/".concat(S(e)))},nextLabel:Object(p.jsx)(N,{}),prevLabel:Object(p.jsx)(N,{})})]})},y=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(j.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1],b=Object(j.useState)(!1),d=Object(i.a)(b,2),h=d[0],O=d[1],x=Object(j.useState)(!1),g=Object(i.a)(x,2),_=g[0],M=g[1],N=Object(j.useState)(!1),w=Object(i.a)(N,2),y=w[0],Y=w[1],k=Object(j.useState)(!1),D=Object(i.a)(k,2),E=D[0],L=D[1],F=Object(j.useState)(!0),C=Object(i.a)(F,2),A=C[0],I=C[1],J=Object(a.g)().date,T=Object(j.useState)(!1),V=Object(i.a)(T,2),z=V[0],B=V[1],P=Object(j.useState)(!1),U=Object(i.a)(P,2),q=U[0],G=U[1],H=function(e){var t=+e.slice(0,4),c=+e.slice(5,7),n=+e.slice(8,10),r=new Date(t,c-1,n-1);return S(r)};return Object(j.useEffect)((function(){void 0===J?M(!0):(m(J).then((function(e){return 0===(t=e).length&&Y(!0),t;var t})).then((function(e){return n(e)})).catch((function(){return O(!0)})).finally((function(){return I(!1)})),m(H(J)).then((function(e){return 0===(t=e).length&&L(!0),t;var t})).then((function(e){return l(e)})).catch((function(){return O(!0)})).finally((function(){return I(!1)})))}),[J]),Object(p.jsxs)(p.Fragment,{children:[function(e,t){switch(!0){case e:return Object(p.jsx)("p",{children:"Server Error"});case t:return Object(p.jsx)("p",{children:"Date Error"});default:return""}}(h,_),A?Object(p.jsx)(v,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"movie-list",children:[Object(p.jsx)("div",{className:"movie-list__date",children:Object(p.jsx)("h2",{className:"movie-list__date-title",children:u()(J).format("DD MMMM YYYY")})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("ul",{children:z?c.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(f,{movie:e})},e.id)})):c.slice(0,1).map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(f,{movie:e})},e.id)}))}),Object(p.jsx)("button",{type:"button",className:"button",onClick:function(){B(!z)},children:"Short List"})]}),y&&Object(p.jsx)("p",{children:"noMovies"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:J&&u()(H(J)).format("DD MMMM YYYY")}),Object(p.jsx)("button",{type:"button",className:"button",onClick:function(){G(!q)},children:"Short List"}),Object(p.jsx)("ul",{children:q?o.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(f,{movie:e})},e.id)})):o.slice(0,1).map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(f,{movie:e})},e.id)}))}),E&&Object(p.jsx)("p",{children:"noMovies"})]})]})]})},Y=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{className:"App__header",children:Object(p.jsx)("h1",{className:"App__title",children:"Super film"})}),Object(p.jsxs)(a.c,{children:[Object(p.jsx)(a.a,{path:"/",element:Object(p.jsx)(w,{})}),Object(p.jsx)(a.a,{path:"/movies-list/:date",element:Object(p.jsx)(y,{})}),Object(p.jsx)(a.a,{path:"*",element:Object(p.jsx)("h3",{children:"Page not found"})})]})]})})};r.a.render(Object(p.jsx)(s.a,{children:Object(p.jsx)(Y,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.adaa5a1d.chunk.js.map