(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},22:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},29:function(e,t,c){"use strict";c.r(t);var n=c(12),r=c.n(n),a=c(7),s=(c(19),c(3)),i=c(4),j=(c(20),c(1)),o=c(8),u=c(6),b=c.n(u);function l(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Server error");case 5:return e.abrupt("return",c.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(o.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l("".concat("https://api.tvmaze.com/schedule","?country=").concat("US","&date=").concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=(c(22),c.p+"static/media/con-video-camera.4dbb78ca.png"),m=c(2),x=function(e){var t=e.movie;return Object(m.jsxs)("div",{className:"movie-card",children:[Object(m.jsx)("img",{src:null===t.show.image?O:t.show.image.medium,alt:"MovieImage"}),Object(m.jsxs)("div",{className:"movie-card__content",children:[Object(m.jsx)("p",{children:t.name}),Object(m.jsx)("p",{children:t.airdate.slice(0,4)}),Object(m.jsxs)("div",{className:"movie-card__description",children:[Object(m.jsxs)("p",{children:["Season:",t.season]}),Object(m.jsxs)("p",{children:["Episode:",t.number]})]})]})]})},p=(c(24),function(){return Object(m.jsx)("div",{className:"Loader",children:Object(m.jsx)("div",{className:"Loader__content"})})}),f=(c(25),c(26),c(14)),v=c(13),g=c.n(v),S=c.p+"static/media/arrow_icon.14f1d3c7.svg",_=c.p+"static/media/TV-set.3bca90b2.png",w=function(){return Object(m.jsx)("img",{src:S,alt:"Icon"})},N=function(e){var t=e.getMonth()+1,c=e.getDate();return[e.getFullYear(),t<10?"0".concat(t):"".concat(t),c<10?"0".concat(c):"".concat(c)].join("-")},y=function(){var e=Object(j.useState)(new Date),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(s.f)();return Object(m.jsxs)("div",{className:"home-page",children:[Object(m.jsxs)("div",{className:"home-page__content",children:[Object(m.jsx)("img",{src:_,alt:"TVset",className:"home-page__img"}),Object(m.jsxs)("p",{className:"home-page__description",children:["For the list of serials, please, choose the necessary",Object(m.jsx)("br",{}),"month and day."]})]}),Object(m.jsx)(f.a,{formatMonthYear:function(e,t){return g()(t).format("MMMM")},onChange:n,value:c,onClickDay:function(e){return r("/movies-list/".concat(N(e)))},nextLabel:Object(m.jsx)(w,{}),prevLabel:Object(m.jsx)(w,{})})]})},k=function(){var e=Object(j.useState)([]),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(j.useState)([]),a=Object(i.a)(r,2),o=a[0],u=a[1],b=Object(j.useState)(!1),l=Object(i.a)(b,2),d=l[0],O=l[1],f=Object(j.useState)(!1),v=Object(i.a)(f,2),g=v[0],S=v[1],_=Object(j.useState)(!1),w=Object(i.a)(_,2),y=w[0],k=w[1],M=Object(j.useState)(!1),E=Object(i.a)(M,2),L=E[0],D=E[1],F=Object(j.useState)(!0),C=Object(i.a)(F,2),A=C[0],I=C[1],J=Object(s.g)().date,T=Object(j.useState)(!1),V=Object(i.a)(T,2),Y=V[0],z=V[1],B=Object(j.useState)(!1),P=Object(i.a)(B,2),U=P[0],q=P[1],G=function(e){var t=+e.slice(0,4),c=+e.slice(5,7),n=+e.slice(8,10),r=new Date(t,c-1,n-1);return N(r)};return Object(j.useEffect)((function(){void 0===J?S(!0):(h(J).then((function(e){return 0===(t=e).length&&k(!0),t;var t})).then((function(e){return n(e)})).catch((function(){return O(!0)})).finally((function(){return I(!1)})),h(G(J)).then((function(e){return 0===(t=e).length&&D(!0),t;var t})).then((function(e){return u(e)})).catch((function(){return O(!0)})).finally((function(){return I(!1)})))}),[J]),Object(m.jsxs)(m.Fragment,{children:[function(e,t){switch(!0){case e:return Object(m.jsx)("p",{children:"Server Error"});case t:return Object(m.jsx)("p",{children:"Date Error"});default:return""}}(d,g),A?Object(m.jsx)(p,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:J}),Object(m.jsx)("button",{type:"button",className:"button",onClick:function(){z(!Y)},children:"Short List"}),Object(m.jsx)("div",{children:Object(m.jsx)("ul",{children:Y?c.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(x,{movie:e})},e.id)})):c.slice(0,1).map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(x,{movie:e})},e.id)}))})}),y&&Object(m.jsx)("p",{children:"noMovies"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:J&&G(J)}),Object(m.jsx)("button",{type:"button",className:"button",onClick:function(){q(!U)},children:"Short List"}),Object(m.jsx)("ul",{children:U?o.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(x,{movie:e})},e.id)})):o.slice(0,1).map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(x,{movie:e})},e.id)}))}),L&&Object(m.jsx)("p",{children:"noMovies"})]})]})]})},M=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{className:"App__header",children:Object(m.jsx)("h1",{className:"App__title",children:"Super film"})}),Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{path:"/",element:Object(m.jsx)(y,{})}),Object(m.jsx)(s.a,{path:"/movies-list/:date",element:Object(m.jsx)(k,{})}),Object(m.jsx)(s.a,{path:"*",element:Object(m.jsx)("h3",{children:"Page not found"})})]})]})})};r.a.render(Object(m.jsx)(a.a,{children:Object(m.jsx)(M,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.ebe925d2.chunk.js.map