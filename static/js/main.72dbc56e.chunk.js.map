{"version":3,"sources":["api/api.ts","api/moviesList.ts","Images/con-video-camera.png","Components/MovieCard/MovieCard.tsx","Components/Loader/Loader.tsx","Images/arrow_icon.svg","Images/TV-set.png","Components/Calendar/Calendar.tsx","Components/MoviesList/function.tsx","Images/arrow_icon-red.svg","Components/MoviesList/MoviesList.tsx","App.tsx","index.tsx"],"names":["request","url","a","fetch","result","ok","Error","json","getMoviesList","date","moviesFromServer","MovieCard","movie","className","src","show","image","camera","medium","alt","name","airdate","slice","season","number","Loader","Icon","arrow","formatDate","dateFormated","month","getMonth","day","getDate","getFullYear","join","CalendarComponent","useState","Date","setDate","navigate","useNavigate","TVset","formatMonthYear","_","d","dayjs","format","onChange","value","onClickDay","nextLabel","prevLabel","getPrevDate","year","prevDay","getErrorByType","serverError1","dateFromCalendar","MoviesList","movies","setMovies","moviesPrevDay","setMoviesPrevDay","serverError","setServerError","noDate","setNoDate","noMovies","setNoMovies","noMoviesPrevDay","setNoPrevMovies","isLoading","setIsLoading","useParams","longList","setLongList","longListPrev","setLongListPrev","useEffect","undefined","then","response","moviesList","length","catch","finally","to","id","map","type","onClick","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"kVAAO,SAAeA,EAAtB,kC,4CAAO,WAAuBC,GAAvB,eAAAC,EAAA,sEACgBC,MAAMF,GADtB,WACCG,EADD,QAGOC,GAHP,sBAIG,IAAIC,MAAM,gBAJb,gCAOEF,EAAOG,QAPT,4C,sBCEA,IAKMC,EAAa,uCAAG,WAAOC,GAAP,eAAAP,EAAA,sEACIF,EAAQ,GAAD,OALpC,kCAKoC,oBAHjB,KAGiB,iBAAwCS,IADnD,cACrBC,EADqB,yBAGpBA,GAHoB,2CAAH,sDCPX,G,MAAA,IAA0B,8C,OCQ5BC,EAA4B,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC1C,OACE,sBAAKC,UAAU,aAAf,UACE,qBACEA,UAAU,kBACVC,IAA0B,OAArBF,EAAMG,KAAKC,MACZC,EACAL,EAAMG,KAAKC,MAAME,OACrBC,IAAI,eAEN,sBAAKN,UAAU,sBAAf,UACE,gCACE,mBAAGA,UAAU,mBAAb,SAAiCD,EAAMQ,OACvC,mBAAGP,UAAU,sBAAb,SAAoCD,EAAMS,QAAQC,MAAM,EAAG,QAE7D,sBAAKT,UAAU,0BAAf,UACE,oBAAGA,UAAU,kCAAb,oBAEGD,EAAMW,UAET,oBAAGV,UAAU,mCAAb,qBAEGD,EAAMY,oBC3BNC,G,MAAmB,kBAC9B,qBAAKZ,UAAU,SAAf,SACE,qBAAKA,UAAU,wB,sBCLJ,MAA0B,uCCA1B,MAA0B,mCCSnCa,EAAO,kBACX,qBAAKZ,IAAKa,EAAOR,IAAI,UAGVS,EAAa,SAACC,GACzB,IAAMC,EAAQD,EAAaE,WAAa,EAClCC,EAAMH,EAAaI,UAMzB,MAAO,CALMJ,EAAaK,cAENJ,EAAQ,GAAR,WAAkBA,GAAlB,UAAiCA,GACnCE,EAAM,GAAN,WAAgBA,GAAhB,UAA6BA,IAETG,KAAK,MAGhCC,EAAoB,WAC/B,MAAwBC,mBAAS,IAAIC,MAArC,mBAAO7B,EAAP,KAAa8B,EAAb,KACMC,EAAWC,cAEjB,OACE,sBAAK5B,UAAU,YAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,qBAAKC,IAAK4B,EAAOvB,IAAI,QAAQN,UAAU,mBACvC,oBAAGA,UAAU,yBAAb,kEAGE,uBAHF,uBAQF,cAAC,IAAD,CACE8B,gBAAiB,SAACC,EAAGC,GAAJ,OAAUC,IAAMD,GAAGE,OAAO,SAC3CC,SAAUT,EACVU,MAAOxC,EACPyC,WAAY,SAACL,GAAD,OAAOL,EAAS,gBAAD,OAAiBZ,EAAWiB,MACvDM,UAAW,cAAC,EAAD,IACXC,UAAW,cAAC,EAAD,UC5CNC,EAAc,SAACR,GAC1B,IAAMS,GAAQT,EAAEvB,MAAM,EAAG,GACnBQ,GAASe,EAAEvB,MAAM,EAAG,GACpBU,GAAOa,EAAEvB,MAAM,EAAG,IAElBiC,EAAU,IAAIjB,KAAKgB,EAAMxB,EAAQ,EAAGE,EAAM,GAEhD,OAAOJ,EAAW2B,IAGPC,EAAiB,SAACC,EAC7BC,GACA,QAAQ,GACN,KAAKD,EACH,OAAQ,6CACV,KAAKC,EACH,OAAQ,2CACV,QACE,MAAO,KCpBE,MAA0B,2CCW5BC,EAAsB,WACjC,MAA4BtB,mBAAkB,IAA9C,mBAAOuB,EAAP,KAAeC,EAAf,KACA,EAA0CxB,mBAAkB,IAA5D,mBAAOyB,EAAP,KAAsBC,EAAtB,KACA,EAAsC1B,oBAAkB,GAAxD,mBAAO2B,EAAP,KAAoBC,EAApB,KACA,EAA4B5B,oBAAkB,GAA9C,mBAAO6B,EAAP,KAAeC,EAAf,KACA,EAAgC9B,oBAAkB,GAAlD,mBAAO+B,EAAP,KAAiBC,EAAjB,KACA,EAA2ChC,oBAAkB,GAA7D,mBAAOiC,EAAP,KAAwBC,EAAxB,KACA,EAAkClC,oBAAkB,GAApD,mBAAOmC,EAAP,KAAkBC,EAAlB,KACQhE,EAASiE,cAATjE,KACR,EAAgC4B,oBAAkB,GAAlD,mBAAOsC,EAAP,KAAiBC,EAAjB,KACA,EAAwCvC,oBAAkB,GAA1D,mBAAOwC,EAAP,KAAqBC,EAArB,KA4CA,OAlBAC,qBAAU,gBACKC,IAATvE,EACF0D,GAAU,IAEV3D,EAAcC,GACXwE,MAAK,SAACC,GAAD,OA5BgB,KADJC,EA6BiBD,GA5BxBE,QACbf,GAAY,GAGPc,EALc,IAACA,KA8BjBF,MAAK,SAAAC,GAAQ,OAAIrB,EAAUqB,MAC3BG,OAAM,kBAAMpB,GAAe,MAC3BqB,SAAQ,kBAAMb,GAAa,MAE9BjE,EAAc6C,EAAY5C,IACvBwE,MAAK,SAACC,GAAD,OA1BgB,KADAC,EA2BiBD,GA1B5BE,QACbb,GAAgB,GAGXY,EALkB,IAACA,KA4BrBF,MAAK,SAAAC,GAAQ,OAAInB,EAAiBmB,MAClCG,OAAM,kBAAMpB,GAAe,MAC3BqB,SAAQ,kBAAMb,GAAa,SAE/B,CAAChE,IAGF,sBAAKI,UAAU,mBAAf,UACE,qBAAKA,UAAU,wBAAf,SACE,cAAC,IAAD,CAAM0E,GAAG,IAAI1E,UAAU,mBAAvB,SACE,qBAAKC,IAAKa,EAAOR,IAAI,cAGxBqC,EAAeQ,EAAaE,GAC5BM,EACI,cAAC,EAAD,IAED,qCACE,sBAAK3D,UAAU,aAAa2E,GAAG,WAA/B,UACE,qBAAK3E,UAAU,mBAAf,SACE,oBAAIA,UAAU,yBAAd,SACGiC,IAAMrC,GAAMsC,OAAO,oBAGxB,6BACG4B,EACIf,EAAO6B,KAAI,SAAA7E,GAAK,OACjB,6BAGE,cAAC,EAAD,CAAWA,MAAOA,KAFbA,EAAM4E,OAKZ5B,EAAOtC,MAAM,EAAG,GAAGmE,KAAI,SAAA7E,GAAK,OAC7B,6BAGE,cAAC,EAAD,CAAWA,MAAOA,KAFbA,EAAM4E,SAMnB,wBACEE,KAAK,SACL7E,UAAU,qBACV8E,QAAS,WA/DrBf,GAAaD,IA4DH,SAKGA,EAAY,kBAAJ,cAAiCf,EAAOwB,OAAxC,aAEVhB,GACC,mBAAGvD,UAAU,oBAAb,iDAKJ,sBAAKA,UAAU,aAAa2E,GAAG,cAA/B,UACE,qBAAK3E,UAAU,mBAAf,SACE,oBAAIA,UAAU,yBAAd,SACGJ,GAASqC,IAAMO,EAAY5C,IAAOsC,OAAO,oBAG9C,6BACG8B,EACIf,EAAc2B,KAAI,SAAA7E,GAAK,OACxB,6BAGE,cAAC,EAAD,CAAWA,MAAOA,KAFbA,EAAM4E,OAKZ1B,EAAcxC,MAAM,EAAG,GAAGmE,KAAI,SAAA7E,GAAK,OACpC,6BAGE,cAAC,EAAD,CAAWA,MAAOA,KAFbA,EAAM4E,SAMnB,wBACEE,KAAK,SACL7E,UAAU,qBACV8E,QAAS,WA/FrBb,GAAiBD,IA4FP,SAKGA,EAAgB,kBAAJ,cAAiCf,EAAcsB,OAA/C,aAEdd,GACC,mBAAGzD,UAAU,oBAAb,wDCnHD+E,EAxBH,WACV,OACE,mCACE,sBAAK/E,UAAU,MAAf,UACE,qBAAKA,UAAU,cAAf,SACE,oBAAIA,UAAU,aAAd,0BAGF,eAAC,IAAD,WACE,cAAC,IAAD,CACEgF,KAAK,IACLC,QAAS,cAAC,EAAD,MAEX,cAAC,IAAD,CACED,KAAK,qBACLC,QAAS,cAAC,EAAD,MAEX,cAAC,IAAD,CAAOD,KAAK,IAAIC,QAAS,2DCjBnCC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.72dbc56e.chunk.js","sourcesContent":["export async function request(url: string) {\n  const result = await fetch(url);\n\n  if (!result.ok) {\n    throw new Error('Server error');\n  }\n\n  return result.json();\n}\n","import { request } from './api';\n\nexport const BASE_URL\n  = 'https://api.tvmaze.com/schedule';\n\nexport const country = 'US';\n\nexport const getMoviesList = async (date: string) => {\n  const moviesFromServer = await request(`${BASE_URL}?country=${country}&date=${date}`);\n\n  return moviesFromServer;\n};\n","export default __webpack_public_path__ + \"static/media/con-video-camera.4dbb78ca.png\";","import './MovieCard.scss';\nimport { Movie } from '../../react-app-env';\nimport camera from '../../Images/con-video-camera.png';\n\ntype Props = {\n  movie: Movie;\n};\n\nexport const MovieCard:React.FC<Props> = ({ movie }) => {\n  return (\n    <div className=\"movie-card\">\n      <img\n        className=\"movie-card__img\"\n        src={movie.show.image === null\n          ? camera\n          : movie.show.image.medium}\n        alt=\"MovieImage\"\n      />\n      <div className=\"movie-card__content\">\n        <div>\n          <p className=\"movie-card__name\">{movie.name}</p>\n          <p className=\"movie-card__airdate\">{movie.airdate.slice(0, 4)}</p>\n        </div>\n        <div className=\"movie-card__description\">\n          <p className=\"movie-card__description--season\">\n            Season:\n            {movie.season}\n          </p>\n          <p className=\"movie-card__description--episode\">\n            Episode:\n            {movie.number}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport './Loader.scss';\n\nexport const Loader: React.FC = () => (\n  <div className=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","export default __webpack_public_path__ + \"static/media/arrow_icon.14f1d3c7.svg\";","export default __webpack_public_path__ + \"static/media/TV-set.3bca90b2.png\";","import './Calendar.scss';\nimport './CalendarComponent.scss';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport Calendar from 'react-calendar';\nimport dayjs from 'dayjs';\nimport arrow from '../../Images/arrow_icon.svg';\nimport TVset from '../../Images/TV-set.png';\n\nconst Icon = () => (\n  <img src={arrow} alt=\"Icon\" />\n);\n\nexport const formatDate = (dateFormated: Date) => {\n  const month = dateFormated.getMonth() + 1;\n  const day = dateFormated.getDate();\n  const year = dateFormated.getFullYear();\n\n  const monthString = month < 10 ? (`0${month}`) : (`${month}`);\n  const dayString = day < 10 ? (`0${day}`) : (`${day}`);\n\n  return [year, monthString, dayString].join('-');\n};\n\nexport const CalendarComponent = () => {\n  const [date, setDate] = useState(new Date());\n  const navigate = useNavigate();\n\n  return (\n    <div className=\"home-page\">\n      <div className=\"home-page__content\">\n        <img src={TVset} alt=\"TVset\" className=\"home-page__img\" />\n        <p className=\"home-page__description\">\n          For the list of serials,\n          please, choose the necessary\n          <br />\n          month and day.\n        </p>\n      </div>\n\n      <Calendar\n        formatMonthYear={(_, d) => dayjs(d).format('MMMM')}\n        onChange={setDate}\n        value={date}\n        onClickDay={(d) => navigate(`/movies-list/${formatDate(d)}`)}\n        nextLabel={<Icon />}\n        prevLabel={<Icon />}\n      />\n    </div>\n  );\n};\n","import { formatDate } from '../Calendar/Calendar';\n\nexport const getPrevDate = (d: string) => {\n  const year = +d.slice(0, 4);\n  const month = +d.slice(5, 7);\n  const day = +d.slice(8, 10);\n\n  const prevDay = new Date(year, month - 1, day - 1);\n\n  return formatDate(prevDay);\n};\n\nexport const getErrorByType = (serverError1: boolean,\n  dateFromCalendar: boolean) => {\n  switch (true) {\n    case serverError1:\n      return (<p>Server Error</p>);\n    case dateFromCalendar:\n      return (<p>Date Error</p>);\n    default:\n      return '';\n  }\n};\n","export default __webpack_public_path__ + \"static/media/arrow_icon-red.d42fff8b.svg\";","import './MoviesList.scss';\nimport { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport { getMoviesList } from '../../api/moviesList';\nimport { Movie } from '../../react-app-env';\nimport { MovieCard } from '../MovieCard/MovieCard';\nimport { Loader } from '../Loader/Loader';\nimport { getErrorByType, getPrevDate } from './function';\nimport arrow from '../../Images/arrow_icon-red.svg';\n\nexport const MoviesList:React.FC = () => {\n  const [movies, setMovies] = useState<Movie[]>([]);\n  const [moviesPrevDay, setMoviesPrevDay] = useState<Movie[]>([]);\n  const [serverError, setServerError] = useState<boolean>(false);\n  const [noDate, setNoDate] = useState<boolean>(false);\n  const [noMovies, setNoMovies] = useState<boolean>(false);\n  const [noMoviesPrevDay, setNoPrevMovies] = useState<boolean>(false);\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const { date } = useParams();\n  const [longList, setLongList] = useState<boolean>(false);\n  const [longListPrev, setLongListPrev] = useState<boolean>(false);\n\n  const checkEmptyList = (moviesList: Movie[]) => {\n    if (moviesList.length === 0) {\n      setNoMovies(true);\n    }\n\n    return moviesList;\n  };\n\n  const checkEmptyPrevList = (moviesList: Movie[]) => {\n    if (moviesList.length === 0) {\n      setNoPrevMovies(true);\n    }\n\n    return moviesList;\n  };\n\n  const changeMoviesList = () => {\n    setLongList(!longList);\n  };\n\n  const changePrevMoviesList = () => {\n    setLongListPrev(!longListPrev);\n  };\n\n  useEffect(() => {\n    if (date === undefined) {\n      setNoDate(true);\n    } else {\n      getMoviesList(date)\n        .then((response) => checkEmptyList(response))\n        .then(response => setMovies(response))\n        .catch(() => setServerError(true))\n        .finally(() => setIsLoading(false));\n\n      getMoviesList(getPrevDate(date))\n        .then((response) => checkEmptyPrevList(response))\n        .then(response => setMoviesPrevDay(response))\n        .catch(() => setServerError(true))\n        .finally(() => setIsLoading(false));\n    }\n  }, [date]);\n\n  return (\n    <div className=\"movie-list__wrap\">\n      <div className=\"movie-list__link-wrap\">\n        <Link to=\"/\" className=\"movie-list__link\">\n          <img src={arrow} alt=\"arrow\" />\n        </Link>\n      </div>\n      {getErrorByType(serverError, noDate)}\n      {isLoading\n        ? (<Loader />)\n        : (\n          <>\n            <div className=\"movie-list\" id=\"list-top\">\n              <div className=\"movie-list__date\">\n                <h2 className=\"movie-list__date-title\">\n                  {dayjs(date).format('DD MMMM YYYY')}\n                </h2>\n              </div>\n              <ul>\n                {longList\n                  ? (movies.map(movie => (\n                    <li\n                      key={movie.id}\n                    >\n                      <MovieCard movie={movie} />\n                    </li>\n                  )))\n                  : (movies.slice(0, 2).map(movie => (\n                    <li\n                      key={movie.id}\n                    >\n                      <MovieCard movie={movie} />\n                    </li>\n                  )))}\n              </ul>\n              <button\n                type=\"button\"\n                className=\"movie-list__button\"\n                onClick={() => changeMoviesList()}\n              >\n                {longList ? ('Show short list') : (`All ${movies.length} movies`)}\n              </button>\n              {noMovies && (\n                <p className=\"movie-list__error\">\n                  There are no movies to this date\n                </p>\n              )}\n            </div>\n            <div className=\"movie-list\" id=\"list-buttom\">\n              <div className=\"movie-list__date\">\n                <h2 className=\"movie-list__date-title\">\n                  {date && (dayjs(getPrevDate(date)).format('DD MMMM YYYY'))}\n                </h2>\n              </div>\n              <ul>\n                {longListPrev\n                  ? (moviesPrevDay.map(movie => (\n                    <li\n                      key={movie.id}\n                    >\n                      <MovieCard movie={movie} />\n                    </li>\n                  )))\n                  : (moviesPrevDay.slice(0, 2).map(movie => (\n                    <li\n                      key={movie.id}\n                    >\n                      <MovieCard movie={movie} />\n                    </li>\n                  )))}\n              </ul>\n              <button\n                type=\"button\"\n                className=\"movie-list__button\"\n                onClick={() => changePrevMoviesList()}\n              >\n                {longListPrev ? ('Show short list') : (`All ${moviesPrevDay.length} movies`)}\n              </button>\n              {noMoviesPrevDay && (\n                <p className=\"movie-list__error\">\n                  There are no movies to this date\n                </p>\n              )}\n            </div>\n          </>\n        )}\n    </div>\n  );\n};\n","import './App.scss';\nimport { Routes, Route } from 'react-router-dom';\nimport { MoviesList } from './Components/MoviesList/MoviesList';\nimport { CalendarComponent } from './Components/Calendar/Calendar';\n\nconst App = () => {\n  return (\n    <>\n      <div className=\"App\">\n        <div className=\"App__header\">\n          <h1 className=\"App__title\">Super film</h1>\n        </div>\n\n        <Routes>\n          <Route\n            path=\"/\"\n            element={<CalendarComponent />}\n          />\n          <Route\n            path=\"/movies-list/:date\"\n            element={<MoviesList />}\n          />\n          <Route path=\"*\" element={<h3>Page not found</h3>} />\n        </Routes>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}